# OPQBot_plugins

# 前言 
**历时断断续续的一个多月，总算把自己想象中的机器人差不多构建成功了，大概集成了有零零碎碎十多个功能，一会儿会逐个介绍，虽然多数都是调用的第三方的API，但是也总算是完成了一个比较完整的项目了**

----------

# 功能介绍
1. **关键词回复类**
 - 彩虹屁
 - 文案
 - 毒鸡汤
（以上三个API均使用的 “shadiao.app”的接口，以上接口均需要向（shadiaoapp@gmail.com）发送邮件，以获取Token）

2.  **闪照还原功能**
本功能主要用于将群里发的闪照还原为普通照片，但是直接还原照片有失败的风险，建议此处可以将闪照保存后再发送出去

3. **“我想对你说”文字转语音功能**
这个我是用上面的“彩虹屁”接口配合百度的文字转语音API进行的语音转换

*注意：百度API的token有过期机制，需要每30天对token进行更新，我将我的'client_id'和'client_secret'已经删除，但是存在数据库的access_token还有效，大约会在2020年9月8日过期，可以先行适用后再去申请自己的API*

4. **星座测运势**
这个是使用的聚合数据的接口进行二次开发，主要可以实现12星座的（今日/明日/本周/本月/今年）运势，但由于OPQ系统限制，目前无法发送长文本，所以年运势可能无法发送，后期可能会升级为以图片的格式发送（咕咕咕）。

5. **智（zhi）能（zhang）聊天**
本项目使用的是github上的一个项目，经过部分修改后集成到机器人的功能内，目前触发概率为5%，如果需要提高或降低，请自行修改源代码

6. **定时任务模块**
目前本模块总共有三个定时任务
 - 早安问候（7：00）发送图片和文字，开启温暖的一天
 - 网抑云（0：00）每天准时陪你一起抑郁
 - 昨日词云（8：00） 每天上午8：00，会总结过去一天的群内聊天记录，并只作为词云后发送至群内。
 
7. **涩图**
emmm，不必多说，涩图数据库在我另一个仓库内，放入项目内的sql文件夹即可，地址：
 
 ----------
 
 # 食用方法
 1. 因某些库为Linux专用库，所以本项目需在Linux环境下运行
 2. 进入项目目录后，输入 pip install -r requirements.txt 安装依赖
 3. 使用screen或Nohup等后台进程程序 运行BotCore.py即可
 
 ----------
 
# 鸣谢
  OPQBot们的开发者，让我有机会可以使用QQ机器人，项目地址：(https://github.com/OPQBOT/OPQ)
  python--iotbot 框架的开发者，让我可以不用花费心思在其他方面，而可以专心书写功能代码，项目地址：(https://github.com/xiyaowong/python--iotbot)
  Chinese-Chatbot-PyTorch-Implementation 聊天机器人的开发者，项目地址：(https://github.com/Doragd/Chinese-Chatbot-PyTorch-Implementation)
  
 ----------
# 结语
## 虽然还有一大部分功能没有完成，但是各位大佬，介不介意给个Star呢？😭
  
 ----------
 
# 更新日志：
2020-8-23 22：39 通过把星座的文字拆解为两条消息，实现了长消息发送
2020-9-6  13：47 新增查询七日天气功能，通过群内发送“****市天气”触发